<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
  <channel>
    <title>Linux - Tag - Coding Panda&#39;s Blog</title>
    <link>https://zhiwayzhang.github.io/tags/linux/</link>
    <description>Linux - Tag - Coding Panda&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator><language>en</language><managingEditor>zhiweizhang@hust.edu.cn (Zhiwei Zhang)</managingEditor>
      <webMaster>zhiweizhang@hust.edu.cn (Zhiwei Zhang)</webMaster><lastBuildDate>Fri, 07 Apr 2023 19:51:41 &#43;0800</lastBuildDate><atom:link href="https://zhiwayzhang.github.io/tags/linux/" rel="self" type="application/rss+xml" /><item>
  <title>Using Cgroups v2 to limit system I/O resources</title>
  <link>https://zhiwayzhang.github.io/posts/cgroups/</link>
  <pubDate>Fri, 07 Apr 2023 19:51:41 &#43;0800</pubDate>
  <author>Zhiwei Zhang</author>
  <guid>https://zhiwayzhang.github.io/posts/cgroups/</guid>
  <description><![CDATA[Introduction to Cgroups Cgroups, which called control group in Linux to limit system resources for specify process group, is comonly used in many container tech, such as Docker, Kubernetes, iSulad etc.
The cgroup architecture is comprised of two main components:
the cgroup core: which contains a pseudo-filesystem cgroupfs, the subsystem controllers: thresholds for system resources, such as memory, CPU, I/O, PIDS, RDMA, etc. The hierarchy of Cgroups In Cgroups v1, per-resource (memory, cpu, blkio) have it&rsquo;s own hierarchy, where each resource hierarchy contains cgroups for that resource.]]></description>
</item>
<item>
  <title>Linux Block I/O Stackç®€ä»‹</title>
  <link>https://zhiwayzhang.github.io/posts/linuxblockiostack/</link>
  <pubDate>Sun, 09 Oct 2022 13:44:18 &#43;0800</pubDate>
  <author>Zhiwei Zhang</author>
  <guid>https://zhiwayzhang.github.io/posts/linuxblockiostack/</guid>
  <description><![CDATA[æœ¬æ–‡å°†ä»æ“ä½œç³»ç»Ÿå†…æ ¸å±‚é¢å»ä»‹ç»Linux I/O æ ˆ
==æ¶‰åŠLinuxå†…æ ¸çš„éƒ¨åˆ†ä¸»è¦ä¸ºLinux 2.6==
Linux I/O æ ˆæ¦‚è¿° Linux I/O æ ˆçš„ç®€å›¾å¦‚ä¸‹
ä¸‹é¢åˆ†åˆ«ç®€è¿°å„ä¸ªå±‚æ¬¡çš„åŠŸèƒ½
åº”ç”¨ç¨‹åºå±‚ åº”ç”¨ç¨‹åºå±‚é€šè¿‡ç³»ç»Ÿè°ƒç”¨å‘VFSå‘èµ·I/Oè¯·æ±‚
VFSå±‚ VFSä¸»è¦å‘ç”¨æˆ·ç©ºé—´æä¾›æ–‡ä»¶ç³»ç»Ÿå±‚é¢çš„æ¥å£ï¼ŒåŒæ—¶å‘ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿå®ç°æä¾›æŠ½è±¡ï¼Œä½¿ä»–ä»¬å¯ä»¥å…±å­˜ã€‚VFSå°†æ–‡ä»¶ç³»ç»Ÿåœ¨ç”¨æˆ·å±‚é¢è¿›è¡ŒæŠ½è±¡ï¼Œä¾¿äºç”¨æˆ·å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚
æ¥è‡ªåº”ç”¨ç¨‹åºçš„è¯·æ±‚åˆ°è¾¾VFSåï¼ŒVFSä¼šåˆ›å»ºåŒ…å«I/Oè¯·æ±‚ä¿¡æ¯çš„ç»“æ„ä½“æäº¤ç»™å—I/Oå±‚ã€‚
Linuxåœ¨æ–‡ä»¶ç³»ç»Ÿå±‚æä¾›ä¸‰ç§IOè®¿é—®çš„å½¢å¼ï¼šBuffered IOã€MMap ã€Direct I/Oã€‚
Buffered I/Oï¼šè¿™ç§è®¿é—®æƒ…å†µä¸‹æ–‡ä»¶æ•°æ®éœ€è¦ç»è¿‡è®¾å¤‡ã€Page Cacheã€ç”¨æˆ·æ€ç¼“å­˜ï¼Œéœ€è¦è¿›è¡Œä¸¤æ¬¡çš„æ‹·è´åŠ¨ä½œã€‚
MMapï¼šå†…å­˜æ˜ å°„æŠ€æœ¯ï¼Œå°†å†…å­˜ä¸­çš„ä¸€éƒ¨åˆ†ç©ºé—´ä¸è®¾å¤‡è¿›è¡Œæ˜ å°„ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºèƒ½å¤Ÿå‘è®¿é—®æ™®é€šå†…å­˜ä¸€æ ·å¯¹æ–‡ä»¶è¿›è¡Œè®¿é—®ã€‚ä½¿æ–‡ä»¶æ•°æ®ä»…ç»è¿‡è®¾å¤‡ã€Page Cacheå³å¯ç›´æ¥ä¼ é€’åˆ°åº”ç”¨ç¨‹åºã€‚
Direct I/Oï¼šé‡‡ç”¨Direct IOçš„æ–¹å¼å¯ä»¥è®©ç”¨æˆ·æ€ç›´æ¥ä¸å—è®¾å¤‡è¿›è¡Œå¯¹æ¥ï¼Œè·³è¿‡äº†Page Cacheï¼Œä»ç¡¬ç›˜å’Œç”¨æˆ·æ€ä¸­æ‹·è´æ•°æ®ï¼Œæé«˜æ–‡ä»¶ç¬¬ä¸€æ¬¡è¯»å†™çš„æ•ˆç‡ï¼Œè‹¥ä¹‹åéœ€è¦é‡å¤è®¿é—®åŒä¸€æ•°æ®ï¼Œéœ€è¦æ¶ˆè€—æ¯”åˆ©ç”¨Page Cacheæ›´å¤šçš„æ—¶é—´ï¼Œä¸€èˆ¬ç”¨äºæ•°æ®åº“ç³»ç»Ÿã€‚
å—I/Oå±‚ ç³»ç»Ÿèƒ½å¤Ÿéšæœºè®¿é—®å›ºå®šå¤§å°çš„æ•°æ®ç‰‡çš„è®¾å¤‡è¢«ç§°ä¸ºå—è®¾å¤‡ï¼Œæœ€å¸¸è§çš„å—è®¾å¤‡ä¸ºç¡¬ç›˜ï¼ˆæœºæ¢°ç¡¬ç›˜ï¼Œå›ºæ€ç›˜ï¼‰ï¼Œå¯¹å—è®¾å¤‡çš„è®¿é—®é€šå¸¸æ˜¯åœ¨å…¶å†…éƒ¨å®‰è£…æ–‡ä»¶ç³»ç»Ÿã€‚æ“ä½œç³»ç»Ÿä¸ºäº†å¯¹å…¶è®¿é—®å’Œä¿è¯æ€§èƒ½ï¼Œéœ€è¦ä¸€ä¸ªå­ç³»ç»Ÿæ¥å¯¹å—è®¾å¤‡å’Œå¯¹å—è®¾å¤‡çš„è¯·æ±‚è¿›è¡Œç®¡ç†ã€‚
SCSIåº•å±‚ &amp;&amp; è®¾å¤‡é©±åŠ¨å±‚ å—I/Oå±‚å°†è¯·æ±‚å‘å¾€SCSIå±‚ï¼ŒSCSIå°±å¼€å§‹çœŸå®å¤„ç†è¿™äº›IOè¯·æ±‚ï¼Œä½†æ˜¯SCSIå±‚åˆå¯¹å…¶å†…éƒ¨æŒ‰ç…§åŠŸèƒ½åˆ’åˆ†äº†ä¸åŒå±‚æ¬¡ï¼š
SCSIé«˜å±‚ï¼šé«˜å±‚é©±åŠ¨è´Ÿè´£ç®¡ç†diskï¼Œæ¥æ”¶å—I/Oå±‚å‘å‡ºçš„IOè¯·æ±‚ï¼Œæ‰“åŒ…æˆSCSIå±‚å¯è¯†åˆ«çš„å‘½ä»¤æ ¼å¼ï¼Œç»§ç»­å¾€ä¸‹å‘
SCSIä¸­å±‚ï¼šä¸­å±‚è´Ÿè´£é€šç”¨åŠŸèƒ½ï¼Œå¦‚é”™è¯¯å¤„ç†ï¼Œè¶…æ—¶é‡è¯•ç­‰
SCSIä½å±‚ï¼šåº•å±‚è´Ÿè´£è¯†åˆ«ç‰©ç†è®¾å¤‡ï¼Œå°†å…¶æŠ½è±¡æä¾›ç»™é«˜å±‚ï¼ŒåŒæ—¶æ¥æ”¶é«˜å±‚æ´¾å‘çš„SCSIå‘½ä»¤ï¼Œäº¤ç»™ç‰©ç†è®¾å¤‡å¤„ç†
æ›´æ­£ï¼šå¯¹äºä¼ ç»Ÿçš„å—è®¾å¤‡è€Œè¨€ï¼ŒæœåŠ¡å™¨é€šè¿‡SCSIåè®®ã€SASæ¥å£è¿æ¥ï¼Œä¸ªäººç”µè„‘é€šè¿‡AHCIåè®®/SATAæ¥å£è¿æ¥ï¼Œç›®å‰ä¸»æµçš„å‘å±•æ–¹å‘ä¸ºNVMeåè®®/M.2æ¥å£ã€‚
ç‰©ç†å¤–è®¾å±‚ åœ¨I/Oä¸­ä¸€èˆ¬ä¸ºç£ç›˜ã€å›ºæ€ç¡¬ç›˜ç­‰å­˜å‚¨è®¾å¤‡
VFSç®€ä»‹ Intro VFSä¸»è¦å‘ç”¨æˆ·ç©ºé—´æä¾›æ–‡ä»¶ç³»ç»Ÿå±‚é¢çš„æ¥å£ï¼ŒåŒæ—¶å‘ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿå®ç°æä¾›æŠ½è±¡ï¼Œä½¿ä»–ä»¬å¯ä»¥å…±å­˜ã€‚
VFSå°†æ–‡ä»¶ç³»ç»Ÿåœ¨ç”¨æˆ·å±‚é¢è¿›è¡ŒæŠ½è±¡ï¼Œä¾¿äºç”¨æˆ·å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚
VFSä¸­æœ‰å››ä¸ªæœ€é‡è¦çš„æ•°æ®ç»“æ„ï¼Œåˆ†åˆ«æ˜¯dentryã€fileã€inodeã€superblockï¼Œä¸‹æ–‡å¯¹ä»–ä»¬åˆ†åˆ«è¿›è¡Œä»‹ç»ã€‚
Directory Entry Cache (dcache) VFSæä¾›äº†openï¼Œstatï¼Œchmodç­‰ç³»ç»Ÿè°ƒç”¨ï¼Œéœ€è¦å‘ä»–ä»¬æä¾›æ–‡ä»¶çš„è·¯å¾„åï¼ŒVFSä¼šåœ¨dcacheä¸­å»æŸ¥è¯¢ã€‚
dcacheæä¾›äº†éå¸¸å¿«çš„æŸ¥æ‰¾æœºåˆ¶å°†è·¯å¾„åè½¬æ¢åˆ°ä¸€ä¸ªå…·ä½“çš„dentryç›®å½•é¡¹ï¼Œç¼“å­˜çš„ç›®å½•é¡¹å­˜å‚¨åœ¨RAMä¸­å¹¶ä¸”ä¸ä¼šæŒä¹…åŒ–åˆ°ç¡¬ç›˜ã€‚
åœ¨æ²¡æœ‰å‘½ä¸­ç¼“å­˜æ—¶ï¼ŒVFSä¼šé€šè¿‡æŸ¥æ‰¾å’ŒåŠ è½½inodeæ¥åˆ›å»ºdentryç¼“å­˜ï¼Œæœ€ç»ˆå®ç°å¯ä»¥é€šè¿‡path nameæŸ¥æ‰¾åˆ°å¯¹åº”çš„dentryç›®å½•é¡¹ã€‚
The Inode Object æ¯ä¸ªç‹¬ç«‹çš„dentryéƒ½æœ‰ä¸€ä¸ªæŒ‡å‘ä¸€ä¸ªinodeçš„æŒ‡é’ˆï¼Œinodeä¸€èˆ¬ä¿å­˜åœ¨discï¼ˆå—è®¾å¤‡æ–‡ä»¶ç³»ç»Ÿï¼‰ä¸­æˆ–è€…å†…å­˜ä¸­ï¼ˆè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ã€‚discä¸­çš„inodeåœ¨è¢«è¯·æ±‚æˆ–ä¿®æ”¹æ—¶ä¼šå¤åˆ¶åˆ°å†…å­˜ä¸­ï¼Œå¹¶åœ¨ä¿®æ”¹åå›å†™åˆ°discã€‚å¤šä¸ªdentryå¯ä»¥æŒ‡å‘åŒä¸€ä¸ªinodeï¼ˆç¡¬é“¾æ¥ï¼‰
å¯¹äºæŸ¥æ‰¾inodeçš„è¯·æ±‚ï¼ŒVFSåœ¨çˆ¶ç›®å½•çš„inodeè°ƒç”¨lookupå‡½æ•°ã€‚
The File Object åœ¨æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œéœ€è¦åˆ†é…ä¸€ä¸ªæ–‡ä»¶ç»“æ„ä½“ï¼ˆå†…æ ¸å±‚é¢å¯¹file descriptorçš„å®ç°ï¼‰ï¼Œç»“æ„ä½“å†…å®¹çš„åˆ›å»ºé€šè¿‡dentryæŒ‡é’ˆæ¥è·å–ï¼Œæ–‡ä»¶ç»“æ„ä½“å­˜å‚¨åœ¨è¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦è¡¨ä¸­ã€‚
å¯¹æ–‡ä»¶çš„è¯»å†™ã€å…³é—­é€šè¿‡ç”¨æˆ·ç©ºé—´çš„fdæ¥æ“ä½œæ­£ç¡®çš„æ–‡ä»¶ç»“æ„ã€‚
åªè¦æ–‡ä»¶æ‰“å¼€ï¼Œå®ƒå°±ä¼šä¿æŒå¯¹dentryçš„ä½¿ç”¨çŠ¶æ€ï¼Œè¿™åŒæ—¶æ„å‘³ç€inodeä»åœ¨ä½¿ç”¨ã€‚
The Dentry Object ç›®å½•é¡¹çºªå½•å­æ–‡ä»¶å’Œå­ç›®å½•çš„åç§°]]></description>
</item>
<item>
  <title>127.0.0.1,localhostå’Œ0.0.0.0æš¨ğŸ¼ä¸€æ¬¡ä¸¤æ¬¡çš„ç¥ç¥ç§˜ç§˜çš„debugè®°å½•</title>
  <link>https://zhiwayzhang.github.io/posts/localhost/</link>
  <pubDate>Mon, 26 Jul 2021 22:23:38 &#43;0000</pubDate>
  <author>Zhiwei Zhang</author>
  <guid>https://zhiwayzhang.github.io/posts/localhost/</guid>
  <description><![CDATA[å‰è®° æ½˜è¾¾æŸå¤©åœ¨æœ¬æœºdockeréƒ¨ç½²äº†ä»–çš„æœåŠ¡ï¼Œä½†æ˜¯å‘ç°æ— è®ºå¦‚ä½•éƒ½æ— æ³•pingé€šï¼Œä»–å†¥(ç–¯)æ€(ç‹‚)è‹¦(è°·)æƒ³(æ­Œ)ï¼Œé€›éäº†GitHubä¸Šçš„å„ç§issuesï¼Œstack overflowä¸Šçš„å„ç§å›ç­”ï¼Œå„ç§åšå®¢æ–‡ç« ï¼Œéƒ½æ²¡æœ‰è§£å†³ä»–çš„é—®é¢˜ï¼Œç›´åˆ°ä»–çš„mentoræ¥åˆ°ä»–çš„ç”µè„‘å‰ï¼Œä¸€é€šå‘½ä»¤çŒ›å¦‚è™å•Šï¼Œå‘ç°ä»–ç«Ÿç„¶åœ¨dockerå†…ç›‘å¬äº†å®¹å™¨ä¸­çš„127.0.0.1çš„ç«¯å£ï¼Œé‚£å¿…ç„¶ä¼šè®¿é—®ä¸åˆ°ï¼Œæ£€æŸ¥å‘ç°åŸæ¥æ˜¯åœ¨æœåŠ¡çš„configä¸­å†™äº†magic numberï¼Œè®©æœåŠ¡å¼€åœ¨äº†127.0.0.1ï¼Œåœ¨æœ¬åœ°è¿™æ ·å¿…ç„¶æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯å¦‚æœè¦ä¸å¤–éƒ¨è¿›è¡Œé€šä¿¡ï¼Œé‚£å°±è¦æ”¹æˆ0.0.0.0äº†ã€‚
åˆæ˜¯ä¸€å¤©ï¼Œæ½˜è¾¾åˆéƒ¨ç½²èµ·äº†ä»–çš„rpcæœåŠ¡ï¼Œæƒ³åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ä¸€ä¸ªå¾®æœåŠ¡ç„¶åæœ¬æœºå»è®¿é—®ï¼Œæµ‹è¯•æ¡†æ¶æ˜¯å¦å¯ä»¥é€šè¿‡åŸŸåé€šä¿¡å„ä¸ªå¾®æœåŠ¡ï¼Œç„¶è€Œï¼ŒæœåŠ¡å™¨ä¸Šå¯åŠ¨æˆåŠŸï¼Œæœ¬åœ°ä¾ç„¶è¿Ÿè¿Ÿæ— æ³•è¿æ¥ï¼Œä¸Šæ¥å°±æ˜¯ä¸€ä¸ªcurl: (7) Failed to connect to ababab.ababab port ababa: Connection refusedï¼Œå®‰å…¨ç»„ä¹Ÿæ”¾è¡Œäº†å¯¹åº”çš„ç«¯å£ï¼Œç„¶åä»–çœ‹åˆ°äº†ä¸€è¡Œ127.0.0.1ï¼Œä½†æ˜¯ä»–æ„Ÿè§‰ä¸æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œç»§ç»­debugï¼Œç„¶åå†æ¬¡å‘¼å«ä»–çš„mentorï¼Œå¸Œæœ›å¾—åˆ°å¸®åŠ©ï¼Œè¿˜æ˜¯ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œæ‰¾åˆ°äº†é‚£ä¸ª127.0.0.1çš„ç›‘å¬æœåŠ¡ï¼Œä¹ã€‚
äºæ˜¯ï¼Œè¿™ç¯‡blogå°±è¯ç”Ÿäº†ã€‚ 127.0.0.1 å’Œ localhost 127.0.0.1æ˜¯å›è·¯åœ°å€ä¸­çš„ä¸€ä¸ªï¼Œåœ¨è®¡ç®—æœºä¸­127.*.*.*è¢«ç§°ä¸ºå›è·¯åœ°å€ï¼Œæ‰€æœ‰å¯¹è¿™äº›åœ°å€çš„è¯·æ±‚éƒ½ä¼šè®©æœ¬æœºæ¥æ”¶ï¼Œæœ€æœ€é‡è¦çš„æ˜¯ï¼Œå¤–éƒ¨è®¾å¤‡ä¹Ÿä¸èƒ½é€šè¿‡è¿™ä¸ªåœ°å€è®¿é—®åˆ°æœ¬æœºçš„æœåŠ¡ã€‚ localhostå…¶å®æ˜¯ä¸€ä¸ªåŸŸåï¼Œä»–ä¸€èˆ¬æŒ‡ä»£æœ¬æœºçš„ç½‘ç»œï¼Œå¤§å¤šæ•°æœºå™¨éƒ½ä¼šé»˜è®¤localhostæŒ‡å‘127.0.0.1ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹ä¸ºå…¶ä»–åœ°å€ã€‚
0.0.0.0 å¯èƒ½æˆ‘ä»¬éƒ½ä¼šä»¥ä¸ºlocalhostä¸ºæœ¬åœ°çš„ç½‘ç»œåœ°å€ï¼Œä½†å®é™…ä¸ŠçœŸæ­£çš„æœ¬åœ°ç½‘ç»œæ˜¯0.0.0.0ï¼Œä½†æ˜¯ä»–æ˜¯ä¸èƒ½è¢«pingé€šçš„ã€‚åœ¨æœåŠ¡å™¨ä¸­ï¼Œ0.0.0.0å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸå®çš„çš„IPåœ°å€ï¼Œå®ƒè¡¨ç¤ºæœ¬æœºä¸­æ‰€æœ‰çš„ipv4åœ°å€ã€‚ç›‘å¬0.0.0.0çš„ç«¯å£ï¼Œå°±æ˜¯ç›‘å¬æœ¬æœºä¸­æ‰€æœ‰IPçš„ç«¯å£ã€‚å¦‚æœæœåŠ¡ç›‘å¬åœ¨0.0.0.0ï¼Œé‚£ä¹ˆå¤–éƒ¨è®¿é—®çš„æ‰€æœ‰ipéƒ½å¯ä»¥é€šè¿‡å¯¹åº”çš„ç«¯å£è®¿é—®è¿™ä¸ªæœåŠ¡ã€‚
æ‰€ä»¥é—®é¢˜å¾—åˆ°äº†è§£ç­”ï¼Œå¦‚æœæ˜¯åœ¨æœ¬æœºçš„è¯ï¼Œ127.0.0.1çš„è¯æ˜¾ç„¶æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯å¦‚æœè¦å°†æœåŠ¡ä¸Šäº‘æˆ–è€…å®¹å™¨ï¼Œå°±éœ€è¦è¿›è¡Œè°ƒæ•´ï¼Œé¦–å…ˆè¦é¿å¼€127.0.0.1ï¼Œå†æ ¹æ®æ˜¯å¦åªå…è®¸å†…ç½‘ipè®¿é—®è¿›è¡Œç«¯å£æ˜ å°„å’ŒæœåŠ¡ç›‘å¬ã€‚
åè®° è¿™ä¸¤æ¬¡é—®é¢˜å‰å‰ååæŠ˜è…¾äº†åŠå¤©ï¼Œæœ¬æƒ³è‡ªå·±æ‰¾åˆ°è§£å†³åŠæ³•ï¼ŒæŸ¥äº†ä¸å°‘èµ„æ–™åè¿˜æ˜¯è¦å¯»æ±‚è¿ç»´â˜ï¸çš„å¸®åŠ©ï¼Œå…¶å®é—®é¢˜å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œè¿˜æ˜¯è‡ªå·±çš„çŸ¥è¯†å‚¨å¤‡ä¸å¤Ÿï¼Œä¸èƒ½å‡†ç¡®å®šä½çš„é—®é¢˜çš„æ‰€åœ¨ã€‚å¦å¤–ï¼Œè®¡ç½‘åº”è¯¥å¼€å§‹çœ‹äº†ã€‚ğŸ¼ã€‚]]></description>
</item>
<item>
  <title>OJéƒ¨ç½²debugè®°å½•</title>
  <link>https://zhiwayzhang.github.io/posts/debugnote/</link>
  <pubDate>Sat, 03 Apr 2021 22:22:14 &#43;0000</pubDate>
  <author>Zhiwei Zhang</author>
  <guid>https://zhiwayzhang.github.io/posts/debugnote/</guid>
  <description><![CDATA[<p>å­¦æ ¡é‡æ„ä¹‹åçš„OJç»ˆäºè¿›å…¥äº†å‰åç«¯å¯¹æ¥çš„é˜¶æ®µï¼Œç»è¿‡äº†ä¸€å‘¨çš„ç´§å¼ å¯¹æ¥ç¯å¢ƒï¼Œé¡¹ç›®ä¾ç„¶æ˜¯(æ­£åœ¨ç¨³å®šæ¨è¿›çš„é˜¶æ®µ)ï¼Œå’Œå‰ç«¯å¯¹æ¥å£çš„ä¸€å‘¨é‡Œï¼Œæˆ‘æ„Ÿè§‰åˆ°è‡ªå·±ä¹‹å‰å·¥ä½œçš„ä¸è¶³ï¼Œåœ¨æ­¤åšå‡ºåæ€ï¼Œä»¥åè¦æ”¹æ‰è¿™äº›é”™è¯¯ã€‚åŒæ—¶åœ¨å’Œè¿ç»´ä¸€èµ·éƒ¨ç½²çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå‘ç°äº†è®¸è®¸å¤šå¤šçš„é—®é¢˜ï¼Œåœ¨æ­¤ä¸€å¹¶è®°å½•ä¸€ä¸‹ã€‚</p>]]></description>
</item>
<item>
  <title>è®°å½•ä¸€æ¬¡Goé¡¹ç›®çš„éƒ¨ç½²</title>
  <link>https://zhiwayzhang.github.io/posts/godeploy/</link>
  <pubDate>Tue, 30 Mar 2021 12:23:42 &#43;0000</pubDate>
  <author>Zhiwei Zhang</author>
  <guid>https://zhiwayzhang.github.io/posts/godeploy/</guid>
  <description><![CDATA[æœ€è¿‘å†™äº†ä¸€ä¸ªgoé¡¹ç›®ï¼Œéœ€è¦éƒ¨ç½²åˆ°æœåŠ¡å™¨è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æœåªæ˜¯go run main.goéš¾å…ä¹Ÿå¤ªéº»çƒ¦äº†ç‚¹ï¼Œäºæ˜¯å­¦ä¹ äº†é¡¹ç›®éƒ¨ç½²çš„ç›¸å…³çŸ¥è¯†ã€‚ é¡¹ç›®çš„éƒ¨ç½²æœ‰å¤šç§æ–¹å¼ï¼ŒJenkins,nginxç­‰æ–¹å¼ï¼Œæœ¬æ–‡åªè®²è§£ä¸€ä¸‹ç®€å•çš„shellè„šæœ¬éƒ¨ç½²ã€‚
ç³»ç»Ÿä¿¡æ¯ ç³»ç»Ÿä¿¡æ¯: CentOS Linux release 8.3.2011 x86_64 Go version: go version go1.14.12 linux/amd64
å‡ æ¡å‘½ä»¤çš„ä»‹ç» nohup nohupå‘½ä»¤çš„å…¨ç§°ä¸ºno hang upä¸æŒ‚èµ·ï¼Œå¯ä»¥åœ¨ç³»ç»Ÿåå°ä¸æŒ‚æ–­çš„è¿è¡Œå‘½ä»¤ï¼Œé€€å‡ºç»ˆç«¯åç¨‹åºä¹Ÿä¼šæ­£å¸¸è¿è¡Œã€‚ è¯­æ³•æ ¼å¼ï¼š nohup ./xxx &gt; xxx.log 2&gt;&amp;1 &amp; è§£é‡Šï¼š &gt; xxx.logè¡¨ç¤ºå°†è¾“å‡ºé‡å®šå‘è‡³è¯¥æ–‡ä»¶ï¼Œå¯ä»¥è®°å½•è¿è¡Œæ—¶çš„æ—¥å¿— 2&gt;&amp;1å°†æ ‡å‡†é”™è¯¯2é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º&amp;1ï¼Œç„¶åæ ‡å‡†è¾“å‡º&amp;1å†è¢«é‡å®šå‘è‡³xxx.logæ–‡ä»¶
git pull git pull origin dev ä¸ºäº†æ–¹ä¾¿é¡¹ç›®çš„åŠæ—¶æ›´æ–°ï¼Œä½¿ç”¨æ”¹åäº†ä¿è¯è¿è¡Œæ—¶ä¸ä¸Šæ¸¸ä»“åº“çš„ä»£ç ä¿æŒä¸€è‡´ã€‚
ps pså‘½ä»¤ä¸º process status,å¯ä»¥æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„è¿›ç¨‹çŠ¶æ€
ä¾‹å¦‚
1 2 3 4 5 6 ~&gt; ps PID TTY TIME CMD 255873 pts/0 00:00:02 zsh 258517 pts/0 00:00:00 sh 258519 pts/0 00:00:00 OnlineJudge 263021 pts/0 00:00:00 ps æˆ‘ä»¬å°†ç”¨pså‘½ä»¤ä¸grepç­‰å‘½ä»¤ç­›é€‰å‡ºé¡¹ç›®çš„pid pså‘½ä»¤æœ‰å¾ˆå¤šå‚æ•°é€‰æ‹©ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸‹ç”¨åˆ°çš„ä¸¤æ¡å‘½ä»¤:]]></description>
</item>
</channel>
</rss>
