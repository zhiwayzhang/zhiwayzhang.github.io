<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Introduction to Cgroups Cgroups, which called control group in Linux to limit system resources for specify process group, is comonly used in many container tech, such as Docker, Kubernetes, iSulad etc.
The cgroup architecture is comprised of two main components:
the cgroup core: which contains a pseudo-filesystem cgroupfs, the subsystem controllers: thresholds for system resources, such as memory, CPU, I/O, PIDS, RDMA, etc. The hierarchy of Cgroups In Cgroups v1, per-resource (memory, cpu, blkio) have it&amp;rsquo;s own hierarchy, where each resource hierarchy contains cgroups for that resource.'><title>Using Cgroups v2 to limit system I/O resources</title>

<link rel='canonical' href='https://blog.ipandai.club/p/using-cgroups-v2-to-limit-system-i/o-resources/'>

<link rel="stylesheet" href="/scss/style.min.b37b59a00b9f88b0e52d2ce1b15620b35b8e67131689b1bbdf480ce548f8b94a.css"><meta property='og:title' content='Using Cgroups v2 to limit system I/O resources'>
<meta property='og:description' content='Introduction to Cgroups Cgroups, which called control group in Linux to limit system resources for specify process group, is comonly used in many container tech, such as Docker, Kubernetes, iSulad etc.
The cgroup architecture is comprised of two main components:
the cgroup core: which contains a pseudo-filesystem cgroupfs, the subsystem controllers: thresholds for system resources, such as memory, CPU, I/O, PIDS, RDMA, etc. The hierarchy of Cgroups In Cgroups v1, per-resource (memory, cpu, blkio) have it&amp;rsquo;s own hierarchy, where each resource hierarchy contains cgroups for that resource.'>
<meta property='og:url' content='https://blog.ipandai.club/p/using-cgroups-v2-to-limit-system-i/o-resources/'>
<meta property='og:site_name' content='Coding_Panda&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='I/O' /><meta property='article:tag' content='Linux' /><meta property='article:tag' content='Cgroups' /><meta property='article:published_time' content='2023-04-07T19:51:41&#43;08:00'/><meta property='article:modified_time' content='2023-04-07T19:51:41&#43;08:00'/>
<meta name="twitter:title" content="Using Cgroups v2 to limit system I/O resources">
<meta name="twitter:description" content="Introduction to Cgroups Cgroups, which called control group in Linux to limit system resources for specify process group, is comonly used in many container tech, such as Docker, Kubernetes, iSulad etc.
The cgroup architecture is comprised of two main components:
the cgroup core: which contains a pseudo-filesystem cgroupfs, the subsystem controllers: thresholds for system resources, such as memory, CPU, I/O, PIDS, RDMA, etc. The hierarchy of Cgroups In Cgroups v1, per-resource (memory, cpu, blkio) have it&amp;rsquo;s own hierarchy, where each resource hierarchy contains cgroups for that resource.">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu8a3d9192938a940b103f152e82f8d0c1_176069_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üêº</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Coding_Panda&#39;s Blog</a></h1>
            <h2 class="site-description">Coding Panda.</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://space.bilibili.com/38920489'
                        target="_blank"
                        title="Bilibili"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1664723478952" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2240" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M306.005333 117.632L444.330667 256h135.296l138.368-138.325333a42.666667 42.666667 0 0 1 60.373333 60.373333L700.330667 256H789.333333A149.333333 149.333333 0 0 1 938.666667 405.333333v341.333334a149.333333 149.333333 0 0 1-149.333334 149.333333h-554.666666A149.333333 149.333333 0 0 1 85.333333 746.666667v-341.333334A149.333333 149.333333 0 0 1 234.666667 256h88.96L245.632 177.962667a42.666667 42.666667 0 0 1 60.373333-60.373334zM789.333333 341.333333h-554.666666a64 64 0 0 0-63.701334 57.856L170.666667 405.333333v341.333334a64 64 0 0 0 57.856 63.701333L234.666667 810.666667h554.666666a64 64 0 0 0 63.701334-57.856L853.333333 746.666667v-341.333334A64 64 0 0 0 789.333333 341.333333zM341.333333 469.333333a42.666667 42.666667 0 0 1 42.666667 42.666667v85.333333a42.666667 42.666667 0 0 1-85.333333 0v-85.333333a42.666667 42.666667 0 0 1 42.666666-42.666667z m341.333334 0a42.666667 42.666667 0 0 1 42.666666 42.666667v85.333333a42.666667 42.666667 0 0 1-85.333333 0v-85.333333a42.666667 42.666667 0 0 1 42.666667-42.666667z" p-id="2241" fill="#BFBFBF"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/zhiwayzhang'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/categories/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                
                <span>Categories</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/tech/" >
                Tech
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/using-cgroups-v2-to-limit-system-i/o-resources/">Using Cgroups v2 to limit system I/O resources</a>
        </h2>
    
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Apr 07, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    6 minute read
                </time>
            </div>
        
        
        

    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <h1 id="introduction-to-cgroups">Introduction to Cgroups</h1>
<p>Cgroups, which called control group in Linux to limit system resources for specify process group, is comonly used in many container tech, such as Docker, Kubernetes, iSulad etc.</p>
<p>The cgroup architecture is comprised of two main components:</p>
<ul>
<li>the cgroup core: which contains a pseudo-filesystem cgroupfs,</li>
<li>the subsystem controllers: thresholds for system resources, such as memory, CPU, I/O, PIDS, RDMA, etc.</li>
</ul>
<p><img src="/img/HighLevelArch.png"
	
	
	
	loading="lazy"
	
		alt="high level hierarchy"
	
	
></p>
<h1 id="the-hierarchy-of-cgroups">The hierarchy of Cgroups</h1>
<p>In Cgroups v1, per-resource (memory, cpu, blkio) have it&rsquo;s own hierarchy, where each resource hierarchy contains cgroups for that resource. The location of cgroup directory is <code>/sys/fs/cgroup/</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ &gt; tree -L <span class="m">1</span> /sys/fs/cgroup
</span></span><span class="line"><span class="cl">/sys/fs/cgroup
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- blkio
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- cpu -&gt; cpu,cpuacct
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- cpuacct -&gt; cpu,cpuacct
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- cpu,cpuacct
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- cpuset
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- devices
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- freezer
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- hugetlb
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- memory
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- net_cls -&gt; net_cls,net_prio
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- net_cls,net_prio
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- net_prio -&gt; net_cls,net_prio
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- perf_event
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- pids
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- rdma
</span></span><span class="line"><span class="cl"><span class="sb">`</span>-- systemd
</span></span></code></pre></td></tr></table>
</div>
</div><p>User can create sub cgroup in every resource diectory to limit the process usage of the resource.</p>
<p>Directory tree above shows the system resources can be control. #{TODO}</p>
<p>Unlike cgroup v1, v2 has only single hierarchy.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; ls -p /sys/fs/cgroup
</span></span><span class="line"><span class="cl">cgroup.controllers      cgroup.subtree_control  init.scope/      /sys/fs/cgroup/nvme/
</span></span><span class="line"><span class="cl">cgroup.max.depth        cgroup.threads          io.cost.model    system.slice/
</span></span><span class="line"><span class="cl">cgroup.max.descendants  cpu.pressure            io.cost.qos      user.slice/
</span></span><span class="line"><span class="cl">cgroup.procs            cpuset.cpus.effective   io.pressure
</span></span><span class="line"><span class="cl">cgroup.stat             cpuset.mems.effective   memory.pressure
</span></span></code></pre></td></tr></table>
</div>
</div><p>The <code>/sys/fs/cgroup</code> is the root cgroup. In Figure below shows the relationship between parent cgroup and child cgroup.</p>
<p><img src="/img/hierarchyEXTERNAL.png"
	
	
	
	loading="lazy"
	
		alt="hierarchy"
	
	
></p>
<p>File <code>cgroup.controllers</code> lists the controllers available in this cgroup, the root cgroup has all the controllers on the system.</p>
<p>File <code>cgroup.subtree_control</code>  has the resource can be limited in it&rsquo;s child cgroup. Those limits can be inherited by sub cgroup.</p>
<p>The child cgroup&rsquo;s <code>cgroup.controllers</code> will generate by it&rsquo;s parent cgroup&rsquo;s <code>cgroup.subtree_control</code> file.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; cat cgroup.controllers
</span></span><span class="line"><span class="cl">cpuset cpu io memory pids rdma
</span></span><span class="line"><span class="cl">$ &gt; cat cgroup.subtree_control
</span></span><span class="line"><span class="cl">cpuset cpu io memory pids
</span></span></code></pre></td></tr></table>
</div>
</div><p>This cgroup can limit cpuset, cpu, I/O, memory, rdma and pids, and it&rsquo;s child cgroup can limit cpuset, cpu, I/O, memory and pids.</p>
<p>To modify the <code>cgroup.subtree_control</code>, can use plus sign(+) or minus sign(-) to enable or disable controllers.</p>
<p>As in this example:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; <span class="nb">echo</span> <span class="s1">&#39;+cpu -memory&#39;</span> <span class="p">|</span> sudo tee /sys/fs/cgroup/cgroup.subtree_control
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="enable-cgroups-v2-in-linux">Enable cgroups v2 in Linux</h1>
<p>First, check the current cgroups fs version with command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; stat -fc %T /sys/fs/cgroup/
</span></span></code></pre></td></tr></table>
</div>
</div><p>For cgroup v2, the output is <code>cgroup2fs</code></p>
<p>For cgroup v1, the output is <code>tmpfs</code></p>
<p>If the output is <code>tmpfs</code>,</p>
<p>Edit grub config <code>/etc/default/grub</code>, append <code>systemd.unified_cgroup_hierarchy=1</code> to config <code>GRUB_CMDLINE_LINUX</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">GRUB_CMDLINE_LINUX</span><span class="o">=</span><span class="s2">&#34;ip=dhcp console=ttyS0,115200 console=tty console=ttyS0 systemd.unified_cgroup_hierarchy=1&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Then execute <code>sudo update-grub</code>, after system reboot, the cgroups v2 will be enabled.</p>
<h1 id="configure-cgroup-to-limit-io-resource">Configure cgroup to limit I/O resource</h1>
<p>To create a new cgroup, use <code>mkdir</code> in <code>/sys/fs/cgroup/</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; <span class="nb">cd</span> /sys/fs/cgroups/
</span></span><span class="line"><span class="cl">$ &gt; sudo mkdir nvme
</span></span></code></pre></td></tr></table>
</div>
</div><p>In <code>nvme</code> directory, we have</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; ls nvme/
</span></span><span class="line"><span class="cl">cgroup.controllers      cpu.max                cpuset.mems            memory.low
</span></span><span class="line"><span class="cl">cgroup.events           cpu.pressure           cpuset.mems.effective  memory.max
</span></span><span class="line"><span class="cl">cgroup.freeze           cpu.stat               io.max                 memory.min
</span></span><span class="line"><span class="cl">cgroup.max.depth        cpu.uclamp.max         io.pressure            memory.oom.group
</span></span><span class="line"><span class="cl">cgroup.max.descendants  cpu.uclamp.min         io.stat                memory.pressure
</span></span><span class="line"><span class="cl">cgroup.procs            cpu.weight             io.weight              memory.stat
</span></span><span class="line"><span class="cl">cgroup.stat             cpu.weight.nice        memory.current         pids.current
</span></span><span class="line"><span class="cl">cgroup.subtree_control  cpuset.cpus            memory.events          pids.events
</span></span><span class="line"><span class="cl">cgroup.threads          cpuset.cpus.effective  memory.events.local    pids.max
</span></span><span class="line"><span class="cl">cgroup.type             cpuset.cpus.partition  memory.high
</span></span></code></pre></td></tr></table>
</div>
</div><p>To enable the control to <code>I/O</code> resources, we need to enable the I/O controller in the <code>/sys/fs/cgroup.subtree_control</code> of root cgroup.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ /sys/fs/cgroup&gt; <span class="nb">echo</span> <span class="s2">&#34;+io&#34;</span> <span class="p">|</span> sudo tee cgroup.subtree_control
</span></span><span class="line"><span class="cl">$ /sys/fs/cgroup&gt; sudo <span class="nb">echo</span> <span class="s2">&#34;+io&#34;</span> &gt; cgroup.subtree_control <span class="c1"># permission denied</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Dont&rsquo;t use <code>&gt;</code> to redirect output to this file (<strong>unles in sudo mode</strong>), because <code>&gt;</code>  shell process redirection first before running follwing command, so the <code>sudo</code>  command did not take effect.</p>
<p>We also need to find out the major and minor number of block devices.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; cat /proc/partitions
</span></span><span class="line"><span class="cl">major minor  <span class="c1">#blocks  name</span>
</span></span><span class="line"><span class="cl">	...			...		....		...
</span></span><span class="line"><span class="cl">   <span class="m">8</span>        <span class="m">0</span>   <span class="m">83886080</span> sda
</span></span><span class="line"><span class="cl">   <span class="m">8</span>        <span class="m">1</span>       <span class="m">1024</span> sda1
</span></span><span class="line"><span class="cl">   <span class="m">8</span>        <span class="m">2</span>   <span class="m">83883008</span> sda2
</span></span><span class="line"><span class="cl">   <span class="m">2</span>        <span class="m">0</span>          <span class="m">4</span> fd0
</span></span><span class="line"><span class="cl"> <span class="m">259</span>        <span class="m">0</span>    <span class="m">4194304</span> nvme0n1
</span></span></code></pre></td></tr></table>
</div>
</div><p>We will use the <code>major</code> and <code>minor </code>number of <code>nvme0n1</code> device partition.</p>
<p>There also have other control keys:</p>
<ul>
<li><code>riops</code>: Max read I/O operations per second</li>
<li><code>wiops</code>: Max write I/O operations per second</li>
<li><code>rbps</code>: Max read bytes per second</li>
<li><code>wbps</code>: Max write bytes per second</li>
</ul>
<p>The lines of <code>io.max</code> must keyed by <code>$MAJOR:$MINOR riops=? wiops=? rbps=? wbps=?</code></p>
<p>We can remove the limit of control by setting <code>riops=max</code> etc.</p>
<p>We limit the write bandwidth (wbps, write bytes per second) of <code>io.max</code> to  1 MB/s:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; /sys/fs/cgroup/nvme&gt; <span class="nb">echo</span> <span class="s2">&#34;259:0 wbps=1048576&#34;</span> <span class="p">|</span> sudo tee io.max
</span></span></code></pre></td></tr></table>
</div>
</div><p>After configured the I/O limit of resources, now we need to add the process pid will be controled.</p>
<p>When execute this command,  <code>$$</code> means the pid of current shell :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; /sys/fs/cgroup/nvme&gt; <span class="nb">echo</span> <span class="nv">$$</span> <span class="p">|</span> sudo tee cgroup.procs
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now, let&rsquo;s use <code>dd</code> to generate I/O workload, before we start testing, clear the page cache first!</p>
<p>Clear the page cache:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$&gt; free -h
</span></span><span class="line"><span class="cl">              total        used        free      shared  buff/cache   available
</span></span><span class="line"><span class="cl">Mem:          3.8Gi       169Mi       3.6Gi       0.0Ki       107Mi       3.5Gi
</span></span><span class="line"><span class="cl">Swap:         3.8Gi          0B       3.8Gi
</span></span><span class="line"><span class="cl">$&gt; sync <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="m">1</span> <span class="p">|</span> sudo tee /proc/sys/vm/drop_caches
</span></span><span class="line"><span class="cl">$&gt; free -h
</span></span><span class="line"><span class="cl">              total        used        free      shared  buff/cache   available
</span></span><span class="line"><span class="cl">Mem:          3.8Gi       168Mi       3.6Gi       0.0Ki       105Mi       3.5Gi
</span></span><span class="line"><span class="cl">Swap:         3.8Gi          0B       3.8Gi
</span></span></code></pre></td></tr></table>
</div>
</div><p>Use <code>dd</code> to generate I/O workload:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; sudo dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>/tmp/test/file1 <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">count</span><span class="o">=</span><span class="m">100</span>
</span></span><span class="line"><span class="cl">100+0 records in
</span></span><span class="line"><span class="cl">100+0 records out
</span></span><span class="line"><span class="cl"><span class="m">104857600</span> bytes <span class="o">(</span><span class="m">105</span> MB, <span class="m">100</span> MiB<span class="o">)</span> copied, 0.0560001 s, 1.9 GB/s
</span></span></code></pre></td></tr></table>
</div>
</div><p>Note that, the data had been writen to page cache immediately.</p>
<p>Using <code>iostat</code> to monitor the writeback performance, we can found that the <code>MB_wrtn/s</code> is  limited to <code>1.0MB/s</code>, which is a difference between cgroups v1 and v2 that cgroups v2 can limit the writeback bandwidth.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; iostat -h -m -d <span class="m">1</span> <span class="m">100</span>
</span></span><span class="line"><span class="cl">Linux 5.4.0-64-generic <span class="o">(</span>fvm<span class="o">)</span> 	04/08/2023 	_x86_64_	<span class="o">(</span><span class="m">4</span> CPU<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">avg-cpu:  %user   %nice %system %iowait  %steal   %idle
</span></span><span class="line"><span class="cl">           0.8%    0.4%    1.5%   23.1%    0.0%   74.2%
</span></span><span class="line"><span class="cl">										......................................
</span></span><span class="line"><span class="cl">      tps    MB_read/s    MB_wrtn/s    MB_dscd/s    MB_read    MB_wrtn    MB_dscd Device
</span></span><span class="line"><span class="cl">     0.00         0.0k         0.0k         0.0k       0.0k       0.0k       0.0k fd0
</span></span><span class="line"><span class="cl">     0.00         0.0k         0.0k         0.0k       0.0k       0.0k       0.0k loop0
</span></span><span class="line"><span class="cl">     0.00         0.0k         0.0k         0.0k       0.0k       0.0k       0.0k loop1
</span></span><span class="line"><span class="cl">     0.00         0.0k         0.0k         0.0k       0.0k       0.0k       0.0k loop2
</span></span><span class="line"><span class="cl">     0.00         0.0k         0.0k         0.0k       0.0k       0.0k       0.0k loop3
</span></span><span class="line"><span class="cl">     0.00         0.0k         0.0k         0.0k       0.0k       0.0k       0.0k loop4
</span></span><span class="line"><span class="cl">     0.00         0.0k         0.0k         0.0k       0.0k       0.0k       0.0k loop5
</span></span><span class="line"><span class="cl">     0.00         0.0k         0.0k         0.0k       0.0k       0.0k       0.0k loop6
</span></span><span class="line"><span class="cl">     0.00         0.0k         0.0k         0.0k       0.0k       0.0k       0.0k loop7
</span></span><span class="line"><span class="cl">     0.00         0.0k         0.0k         0.0k       0.0k       0.0k       0.0k loop8
</span></span><span class="line"><span class="cl">     3.00         0.0k         1.0M         0.0k       0.0k       1.0M       0.0k nvme0n1
</span></span><span class="line"><span class="cl">     0.00         0.0k         0.0k         0.0k       0.0k       0.0k       0.0k sda
</span></span></code></pre></td></tr></table>
</div>
</div><p>Furthermore, when add the <code>direct</code> oflag which means directly write data to device without page cache, the write bandwidth is limited to <code>1.0 MB/s</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ &gt; sudo dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>/tmp/test/file1 <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">count</span><span class="o">=</span><span class="m">100</span> <span class="nv">oflag</span><span class="o">=</span>d
</span></span><span class="line"><span class="cl">irect
</span></span><span class="line"><span class="cl">100+0 records in
</span></span><span class="line"><span class="cl">100+0 records out
</span></span><span class="line"><span class="cl"><span class="m">104857600</span> bytes <span class="o">(</span><span class="m">105</span> MB, <span class="m">100</span> MiB<span class="o">)</span> copied, 100.003 s, 1.0 MB/s
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="summary">Summary</h1>
<p>In this article, we can learn about Cgroups in Linux, and how to use Cgroups to limit system I/O resources.</p>
<p>In a subsequent article, I will introduce some system API related to Cgroups.</p>
<h1 id="reference">Reference</h1>
<ol>
<li><a class="link" href="https://facebookmicrosites.github.io/cgroup2/docs/overview.html"  target="_blank" rel="noopener"
    >https://facebookmicrosites.github.io/cgroup2/docs/overview.html</a></li>
<li><a class="link" href="https://kubernetes.io/docs/concepts/architecture/cgroups/"  target="_blank" rel="noopener"
    >https://kubernetes.io/docs/concepts/architecture/cgroups/</a></li>
<li><a class="link" href="https://andrestc.com/post/cgroups-io/"  target="_blank" rel="noopener"
    >https://andrestc.com/post/cgroups-io/</a></li>
<li><a class="link" href="https://docs.kernel.org/admin-guide/cgroup-v2.html"  target="_blank" rel="noopener"
    >https://docs.kernel.org/admin-guide/cgroup-v2.html</a></li>
<li><a class="link" href="https://manpath.be/f35/7/cgroups#L557"  target="_blank" rel="noopener"
    >https://manpath.be/f35/7/cgroups#L557</a></li>
<li><a class="link" href="https://zorrozou.github.io/docs/%E8%AF%A6%E8%A7%A3Cgroup%20V2.html"  target="_blank" rel="noopener"
    >https://zorrozou.github.io/docs/%E8%AF%A6%E8%A7%A3Cgroup%20V2.html</a></li>
</ol>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/i/o/">I/O</a>
        
            <a href="/tags/linux/">Linux</a>
        
            <a href="/tags/cgroups/">Cgroups</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ]
        });})
</script>
    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/fast22-mt2-memory-bandwidth-regulation-on-hybrid-nvm/dram-platforms/">
        
        

        <div class="article-details">
            <h2 class="article-title">[FAST&#39;22] MT^2: Memory Bandwidth Regulation on Hybrid NVM/DRAM Platforms</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/linux-block-i/o-stack%E7%AE%80%E4%BB%8B/">
        
        

        <div class="article-details">
            <h2 class="article-title">Linux Block I/O StackÁÆÄ‰ªã</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "coding-pandas" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2019 - 
        
        2023 Coding_Panda&#39;s Blog
    </section>
    
    
    <section class="powerby">
        ICPÂ§áÊ°àÔºö <a href="https://beian.miit.gov.cn">È≤ÅICPÂ§á2021030271Âè∑</a> <br/>
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.14.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#introduction-to-cgroups">Introduction to Cgroups</a></li>
    <li><a href="#the-hierarchy-of-cgroups">The hierarchy of Cgroups</a></li>
    <li><a href="#enable-cgroups-v2-in-linux">Enable cgroups v2 in Linux</a></li>
    <li><a href="#configure-cgroup-to-limit-io-resource">Configure cgroup to limit I/O resource</a></li>
    <li><a href="#summary">Summary</a></li>
    <li><a href="#reference">Reference</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
